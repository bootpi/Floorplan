custom_header:
  compact_mode: true
  editor_warnigs: false
  exceptions:
    - conditions:
        user: 'Tablet, tablet'
      config:
        hidden_tab_redirect: false
        kiosk_mode: true
    - conditions:
        user_agent: 'Mozilla/5.0 (Android 7.1.2; Tablet; rv:68.0) Gecki/68.0 Firefox/68.0'
      config:
        hidden_tab_redirect: false
        kiosk_mode: true

preload_cards:
  - picture-entity
  - picture-elements
  - alarm-panel

title: Casa
views:
  - badges: []
    icon: 'mdi:floor-plan'
    panel: true
    title: Control Roms
    cards:
      - type: 'custom:config-template-card'
        entities:
          - light.bloom_hue               # STRISCIA LED TV
          - input_boolean.salone_1        # SALONE
          - input_boolean.salone_2        # INGRESSO
          - input_boolean.salone_3        # CORRIDOIO
          - input_boolean.salone_4        # LAMPADA
          - input_boolean.camera_1        # CAMERA MATRIMONIALE
          - input_boolean.camera_2        # BAJOUR SINISTRA
          - input_boolean.camera_3        # BAJOUR DESTRA
          - input_boolean.bagno_1         # BAGNO_1
          - input_boolean.bagno_2         # BAGNO_2
          - input_boolean.cameretta       # CAMERETTA
          - input_boolean.ripostiglio     # RIPOSTIGLIO
          - binary_sensor.porta_contact
          - group.all_entity
          - sensor.cpu_temp
          - sensor.0x00158d000277484c_temperature
          - camera.ingresso
          - camera.salone
        card:
          type: 'custom:hui-picture-elements-card'
          image: /local/floorplan/floorplan/floorplan_night.png
          style: |
            ha-card:first-child {
            background: rgba(42, 46, 48, 1)
            }
          elements:

################################################################################
#                                                                              #
#                            ALBA E TRAMONTO                                   #
#                                                                              #
################################################################################

            - action: none
              entity: sun.sun
              hold_action:
                action: none
              state_image:
                above_horizon: /local/floorplan/floorplan/floorplan_day.png
                below_horizon: /local/floorplan/transparent.png
              style:
                height: 100%
                left: 50%
                mix-blend-mode: lighten
                opacity: '${ states[''sensor.sunlight_opacity''].state }'
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image

################################################################################
#                                                                              #
#                         SINGOLE LUCI E STANZE                                #
#                                                                              #
################################################################################

##############################  SALONE (SALONE1)  ##############################

            - action: none
              entity: input_boolean.salone_1
              hold_action:
                action: none
              image: /local/floorplan/light/floorplan_salone_1.png
              style:
                filter: >-
                  ${ "hue-rotate(" + (states['input_boolean.salone_1'].attributes.hs_color
                  ? states['input_boolean.salone_1'].attributes.hs_color[0] : 0) + "deg)"}
                left: 50%
                mix-blend-mode: lighten
                opacity: "${states['input_boolean.salone_1'].state === 'on' ?
                (states['input_boolean.salone_1'].attributes.brightness / 255) : '0'}"
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image

##############################  INGRESSO (SALONE2)  ############################

            - action: none
              entity: input_boolean.salone_2
              hold_action:
                action: none
              image: /local/floorplan/light/floorplan_salone_2.png
              style:
                left: 50%
                mix-blend-mode: lighten
                opacity: "${states['input_boolean.salone_2'].state === 'on' ?
                (states['input_boolean.salone_2'].attributes.brightness / 255) : '0'}"
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image

########################### CORRIDOIO (SALONE3) ################################

            - action: none
              entity: input_boolean.salone_3
              hold_action:
                action: none
              image: /local/floorplan/light/floorplan_salone_3.png
              style:
                left: 50%
                mix-blend-mode: lighten
                opacity: "${states['input_boolean.salone_3'].state === 'on' ?
                (states['input_boolean.salone_3'].attributes.brightness / 255) : '0'}"
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image

############################## LAMPADA (SALONE4) ###############################

            - action: none
              entity: input_boolean.salone_4
              hold_action:
                action: none
              image: /local/floorplan/light/floorplan_salone_4.png
              style:
                left: 50%
                mix-blend-mode: lighten
                opacity: "${states['input_boolean.salone_4'].state === 'on' ?
                (states['input_boolean.salone_4'].attributes.brightness / 255) : '0'}"
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image

############################## STRISCIA LED ####################################

            - action: none
              entity: light.bloom_hue
              hold_action:
                action: none
              image: /local/floorplan/light/floorplan_striscia_led.png
              style:
                filter: >-
                  ${ "hue-rotate(" +
                  (states['light.bloom_hue'].attributes.hs_color  ?
                  states['light.bloom_hue'].attributes.hs_color[0] : 0) +
                  "deg)"}
                left: 50%
                mix-blend-mode: lighten
                opacity: "${states['light.bloom_hue'].state === 'on' ?
                (states['light.bloom_hue'].attributes.brightness / 255) : '0'}"
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image

#################################### CAMERA ####################################

            - action: none
              entity: input_boolean.camera_1
              hold_action:
                action: none
              image: /local/floorplan/light/floorplan_camera_1.png
              style:
                filter: >-
                  ${ "hue-rotate(" + (states['input_boolean.camera_1'].attributes.hs_color
                  ? states['input_boolean.camera_1'].attributes.hs_color[0] : 0) + "deg)"}
                left: 50%
                mix-blend-mode: lighten
                opacity: "${states['input_boolean.camera_1'].state === 'on' ?
                (states['input_boolean.camera_1'].attributes.brightness / 255) : '0'}"
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image

################################# BAJOUR DESTRA ################################

            - action: none
              entity: input_boolean.camera_3
              hold_action:
                action: none
              image: /local/floorplan/light/floorplan_camera_3.png
              style:
                filter: >-
                  ${ "hue-rotate(" + (states['input_boolean.camera_3'].attributes.hs_color
                  ? states['input_boolean.camera_3'].attributes.hs_color[0] : 0) + "deg)"}
                left: 50%
                mix-blend-mode: lighten
                opacity: "${states['input_boolean.camera_3'].state === 'on' ?
                (states['input_boolean.camera_3'].attributes.brightness / 255) : '0'}"
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image

################################ BAJOUR SINISTRA ###############################

            - action: none
              entity: input_boolean.camera_2
              hold_action:
                action: none
              image: /local/floorplan/light/floorplan_camera_2.png
              style:
                filter: >-
                  ${ "hue-rotate(" + (states['input_boolean.camera_2'].attributes.hs_color
                  ? states['input_boolean.camera_2'].attributes.hs_color[0] : 0) + "deg)"}
                left: 50%
                mix-blend-mode: lighten
                opacity: "${states['input_boolean.camera_2'].state === 'on' ?
                (states['input_boolean.camera_2'].attributes.brightness / 255) : '0'}"
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image

################################ BAGNO #########################################

            - action: none
              entity: input_boolean.bagno_1
              hold_action:
                action: none
              image: /local/floorplan/light/floorplan_bagno_1.png
              style:
                filter: >-
                  ${ "hue-rotate(" + (states['input_boolean.bagno_1'].attributes.hs_color
                  ? states['input_boolean.bagno_1'].attributes.hs_color[0] : 0) + "deg)"}
                left: 50%
                mix-blend-mode: lighten
                opacity: "${states['input_boolean.bagno_1'].state === 'on' ?
                (states['input_boolean.bagno_1'].attributes.brightness / 255) : '0'}"
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image

############################### BAGNO SPECCHIO #################################

            - action: none
              entity: input_boolean.bagno_2
              hold_action:
                action: none
              image: /local/floorplan/light/floorplan_bagno_2.png
              style:
                filter: >-
                  ${ "hue-rotate(" + (states['input_boolean.bagno_2'].attributes.hs_color
                  ? states['input_boolean.bagno_2'].attributes.hs_color[0] : 0) + "deg)"}
                left: 50%
                mix-blend-mode: lighten
                opacity: "${states['input_boolean.bagno_2'].state === 'on' ?
                (states['input_boolean.bagno_2'].attributes.brightness / 255) : '0'}"
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image

############################ RIPOSTIGLIO #######################################

            - action: none
              entity: input_boolean.ripostiglio
              hold_action:
                action: none
              image: /local/floorplan/light/floorplan_ripostiglio.png
              style:
                filter: >-
                  ${ "hue-rotate(" + (states['input_boolean.ripostiglio'].attributes.hs_color
                  ? states['input_boolean.ripostiglio'].attributes.hs_color[0] : 0) + "deg)"}
                left: 50%
                mix-blend-mode: lighten
                opacity: "${states['input_boolean.ripostiglio'].state === 'on' ?
                (states['input_boolean.ripostiglio'].attributes.brightness / 255) : '0'}"
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image

################################ CAMERETTA #####################################

            - action: none
              entity: input_boolean.cameretta
              hold_action:
                action: none
              image: /local/floorplan/light/floorplan_cameretta.png
              style:
                filter: >-
                  ${ "hue-rotate(" + (states['input_boolean.cameretta'].attributes.hs_color
                  ? states['input_boolean.cameretta'].attributes.hs_color[0] : 0) + "deg)"}
                left: 50%
                mix-blend-mode: lighten
                opacity: "${states['input_boolean.cameretta'].state === 'on' ?
                (states['input_boolean.cameretta'].attributes.brightness / 255) : '0'}"
                top: 50%
                width: 100%
              tap_action:
                action: none
              type: image

################################################################################
#                                                                              #
#                          ICONE LUCI & POPUP                                  #
#                                                                              #
################################################################################

#####################  SALONE (SALONE1)  #######  riga 87    ###################

            - entity: input_boolean.salone_1
              icon: 'mdi:ceiling-light'
              style:
                '--iron-icon-height': 2vw
                '--iron-icon-width': 2vw
                '--paper-item-icon-active-color': '#000000'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                height: 3vw
                justify-content: center
                left: 45.3%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 35.7%
                transform: scale(1)
                width: 3vw
              tap_action:
                action: toggle
              type: state-icon

########################  INGRESSO (SALONE2)  #########  riga 108  #############

            - entity: input_boolean.salone_2
              icon: 'mdi:ceiling-light'
              style:
                '--iron-icon-height': 2vw
                '--iron-icon-width': 2vw
                '--paper-item-icon-active-color': '#000000'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                height: 3vw
                justify-content: center
                left: 45.3%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 65.7%
                transform: scale(1)
                width: 3vw
              tap_action:
                action: toggle
              type: state-icon

####################### CORRIDOIO (SALONE3) ############  riga 126  ############

            - entity: input_boolean.salone_3
              icon: 'mdi:ceiling-light'
              style:
                '--iron-icon-height': 2vw
                '--iron-icon-width': 2vw
                '--paper-item-icon-active-color': '#000000'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                height: 3vw
                justify-content: center
                left: 62%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 50.7%
                transform: scale(1)
                width: 3vw
              tap_action:
                action: toggle
              type: state-icon

####################### LAMPADA (SALONE4) ###########  riga 144  ###############

            - entity: input_boolean.salone_4
              icon: 'mdi:floor-lamp'
              style:
                '--iron-icon-height': 2vw
                '--iron-icon-width': 2vw
                '--paper-item-icon-active-color': '#000000'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                height: 3vw
                justify-content: center
                left: 40%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 16%
                transform: scale(1)
                width: 3vw
              tap_action:
                action: toggle
              type: state-icon

######################### STRISCIA LED ##########  riga 162  ###################

            - entity: light.bloom_hue
              hold_action:
                action: call-service
                service: browser_mod.popup
                service_data:
                  card:
                    cards:
                      - entities:
                          - entity: light.bloom_hue
                            secondary_info: last-changed
                        style:
                          z-index: 5
                        type: entities
                      - cards:
                          - cards:
                              - brightness: false
                                color_temp: false
                                entity: light.bloom_hue
                                full_width_sliders: true
                                header: false
                                persist_features: true
                                show_slider_percent: false
                                smooth_color_wheel: true
                                type: 'custom:light-entity-card'
                            column_height: 1
                            layout: vertical
                            type: 'custom:layout-card'
                          - entities:
                              - color_temp: true
                                entity: light.bloom_hue
                                header: false
                                persist_features: true
                                type: 'custom:light-slider-card'
                            show_header_toggle: false
                            style:
                              height: 100%
                              z-index: 0;
                            type: entities
                        column_num: 2
                        layout: horizontal
                        max_width:
                          - 60%
                          - 40%
                        type: 'custom:layout-card'
                    type: 'custom:vertical-stack-in-card'
                  deviceID:
                    - this
                  style:
                    '--ha-card-border-radius': 0vw 0vw 0.8vw 0.8vw
                    border-radius: 0.8vw
                    opacity: 0.9
                  title: Bloom Hue
              icon: 'mdi:led-strip-variant'
              style:
                '--iron-icon-height': 2vw
                '--iron-icon-width': 2vw
                '--paper-item-icon-active-color': '#000000'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                height: 3vw
                justify-content: center
                left: 50%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 85%
                transform: scale(1)
                width: 3vw
              tap_action:
                action: toggle
              type: state-icon

############################# CAMERA ##################  riga 185  #############

            - entity: input_boolean.camera_1
              icon: 'mdi:ceiling-light'
              style:
                '--iron-icon-height': 2vw
                '--iron-icon-width': 2vw
                '--paper-item-icon-active-color': '#000000'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                height: 3vw
                justify-content: center
                left: 78.3%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 28.7%
                transform: scale(1)
                width: 3vw
              tap_action:
                action: toggle
              type: state-icon

########################### BAJOUR DESTRA ###########  riga 206  ###############

            - entity: input_boolean.camera_3
              icon: 'mdi:lamp'
              style:
                '--iron-icon-height': 2vw
                '--iron-icon-width': 2vw
                '--paper-item-icon-active-color': '#000000'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                height: 3vw
                justify-content: center
                left: 84%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 20.7%
                transform: scale(1)
                width: 3vw
              tap_action:
                action: toggle
              type: state-icon

########################## BAJOUR SINISTRA ###########  riga 227  ##############

            - entity: input_boolean.camera_2
              icon: 'mdi:lamp'
              style:
                '--iron-icon-height': 2vw
                '--iron-icon-width': 2vw
                '--paper-item-icon-active-color': '#000000'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                height: 3vw
                justify-content: center
                left: 73%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 20.7%
                transform: scale(1)
                width: 3vw
              tap_action:
                action: toggle
              type: state-icon

######################## BAGNO ###############  riga 248  ######################

            - entity: input_boolean.bagno_1
              icon: 'mdi:ceiling-light'
              style:
                '--iron-icon-height': 2vw
                '--iron-icon-width': 2vw
                '--paper-item-icon-active-color': '#000000'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                height: 3vw
                justify-content: center
                left: 64%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 23%
                transform: scale(1)
                width: 3vw
              tap_action:
                action: toggle
              type: state-icon

########################### BAGNO SPECCHIO #############  riga 269  ############

            - entity: input_boolean.bagno_2
              icon: 'mdi:track-light'
              style:
                '--iron-icon-height': 2vw
                '--iron-icon-width': 2vw
                '--paper-item-icon-active-color': '#000000'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                height: 3vw
                justify-content: center
                left: 69%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 12%
                transform: scale(1)
                width: 3vw
              tap_action:
                action: toggle
              type: state-icon

####################### RIPOSTIGLIO #############  riga 290  ###################

            - entity: input_boolean.ripostiglio
              icon: 'mdi:ceiling-light'
              style:
                '--iron-icon-height': 2vw
                '--iron-icon-width': 2vw
                '--paper-item-icon-active-color': '#000000'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                height: 3vw
                justify-content: center
                left: 63%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 83%
                transform: scale(1)
                width: 3vw
              tap_action:
                action: toggle
              type: state-icon

########################### CAMERETTA #############  riga 311  #################

            - entity: input_boolean.cameretta
              icon: 'mdi:ceiling-light'
              style:
                '--iron-icon-height': 2vw
                '--iron-icon-width': 2vw
                '--paper-item-icon-active-color': '#000000'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                height: 3vw
                justify-content: center
                left: 78%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 70%
                transform: scale(1)
                width: 3vw
              tap_action:
                action: toggle
              type: state-icon

################################################################################
#                                                                              #
#                         SENSORI VARI & VIDEOCAMERE                           #
#                                                                              #
################################################################################

########################    SENSORE TEMPERATURA CAMERA    ######################

            - entity: sensor.camera_temperature
              tap_action:
                action: call-service
                service: browser_mod.popup
                service_data:
                  card:
                    cards:
                      - entity: sensor.camera_temperature
                        name: Temperatura
                        icon: 'mdi:thermometer'
                        type: sensor
                      - entity: sensor.camera_humidity
                        name: Umidit√†
                        icon: 'mdi:water-percent'
                        type: sensor
                    type: horizontal-stack
                  deviceID:
                    - this
                  style:
                    '--ha-card-border-radius': 0vw 0vw 0.8vw 0.8vw
                    border-radius: 0.8vw
                    opacity: 0.9
                  title: CAMERA
              icon: 'mdi:thermometer'
              style:
                '--iron-icon-height': 2vw
                '--iron-icon-width': 2vw
                '--paper-item-icon-color': '#000000'
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                height: 3vw
                justify-content: center
                left: 75%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 40%
                transform: scale(1)
                width: 3vw
              type: state-icon

######################    SENSORE CPU RASPBERRY    #############################

            - entity: sensor.cpu_temp
              tap_action:
                action: call-service
                service: browser_mod.popup
                service_data:
                  card:
                    entity: sensor.cpu_temp
                    type: sensor
                  deviceID:
                    - this
                  style:
                    '--ha-card-border-radius': 0vw 0vw 0.8vw 0.8vw
                    border-radius: 0.8vw
                    width: 15%
                    opacity: 0.9
                  title: RASPBERRY
              icon: 'mdi:raspberry-pi'
              style:
                '--iron-icon-height': 2vw
                '--iron-icon-width': 2vw
                '--paper-item-icon-color': '#000000'
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                height: 3vw
                justify-content: center
                left: 59%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 60%
                transform: scale(1)
                width: 3vw
              type: state-icon

########################## SENSORE ENERGIA #####################################

            - entity: sensor.016_energia_oggi
              tap_action:
                action: call-service
                service: browser_mod.popup
                service_data:
                  card:
                    cards:
                      - entity: sensor.016_energia_oggi
                        name: Giornaliero
                        icon: 'mdi:counter'
                        type: sensor
                      - entity: sensor.016_energia_totale
                        name: Totale
                        icon: 'mdi:counter'
                        type: sensor
                    type: horizontal-stack
                  deviceID:
                    - this
                  style:
                    '--ha-card-border-radius': 0vw 0vw 0.8vw 0.8vw
                    border-radius: 0.8vw
                    opacity: 0.9
                  title: Consumo
              icon: 'mdi:counter'
              style:
                '--iron-icon-height': 2vw
                '--iron-icon-width': 2vw
                '--paper-item-icon-color': '#000000'
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                height: 3vw
                justify-content: center
                left: 38%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 78%
                transform: scale(1)
                width: 3vw
              type: state-icon

###############################  ALLARME  ######################################

            - entity: alarm_control_panel.home_alarm
              tap_action:
                action: call-service
                service: browser_mod.popup
                service_data:
                  card:
                    entity: alarm_control_panel.home_alarm
                    name: Allarme
                    states:
                      - arm_home
                      - arm_away
                    type: alarm-panel
                  deviceID:
                    - this
                  style:
                    '--ha-card-border-radius': 0vw 0vw 0.8vw 0.8vw
                    border-radius: 0.8vw
                    opacity: 0.9
                  title: ALLARME
              icon: 'mdi:security'
              style:
                '--iron-icon-height': 2vw
                '--iron-icon-width': 2vw
                '--paper-item-icon-active-color': '#000000'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                height: 3vw
                justify-content: center
                left: 38%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 65.7%
                transform: scale(1)
                width: 3vw
              type: state-icon

###########################  VIDEOCAMERA INGRESSO   ############################

            - entity: camera.ingresso
              hold_action:
                action: call-service
                service: browser_mod.popup
                service_data:
                  card:
                    entity: camera.ingresso
                    aspect_ratio: 50%
                    camera_view: live
                    show_state: false
                    show_name: false
                    type: picture-entity
                  deviceID:
                    - this
                  style:
                    '--ha-card-border-radius': 0vw 0vw 0.8vw 0.8vw
                    border-radius: 0.8vw
                    width: 50%
                    opacity: 0.9
                  title: Ingresso
              icon: 'mdi:cctv'
              style:
                '--iron-icon-height': 2vw
                '--iron-icon-width': 2vw
                '--paper-item-icone-color': '#000000'
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                height: 3vw
                justify-content: center
                left: 63.5%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 72.5%
                transform: scale(1)
                width: 3vw
              tap_action:
                action: none
              type: state-icon

#########################  VIDEOCAMERE SALONE   ################################

            - entity: camera.salone
              hold_action:
                action: call-service
                service: browser_mod.popup
                service_data:
                  card:
                    entity: camera.salone
                    aspect_ratio: 50%
                    camera_view: live
                    show_state: false
                    show_name: false
                    type: picture-entity
                  deviceID:
                    - this
                  style:
                    '--ha-card-border-radius': 0vw 0vw 0.8vw 0.8vw
                    border-radius: 0.8vw
                    width: 50%
                    opacity: 0.9
                  title: Salone
              icon: 'mdi:cctv'
              style:
                '--iron-icon-height': 2vw
                '--iron-icon-width': 2vw
                '--paper-item-icone-color': '#000000'
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                height: 3vw
                justify-content: center
                left: 36.5%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 18.5%
                transform: scale(1)
                width: 3vw
              tap_action:
                action: none
              type: state-icon

###########################   PORTA INGRESSO   #################################

            - entity: binary_sensor.porta_contact
              tap_action:
                action: none
              style:
                '--iron-icon-height': 2vw
                '--iron-icon-width': 2vw
                '--paper-item-icon-active-color': '#000000'
                '--paper-item-icon-color': darkgrey
                align-items: center
                background-color: '#FFFFFF'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                height: 3vw
                justify-content: center
                left: 34%
                margin-left: '-1.5vw'
                margin-top: '-1.5vw'
                top: 70%
                transform: scale(1)
                width: 3vw
              type: state-icon

################################################################################
#                                                                              #
#                       BARRA LATERALE E INFO                                  #
#                                                                              #
################################################################################

            - action: none
              hold_action:
                action: none
              image: /local/floorplan/sidebar/sidebarBG2.png
              style:
                height: 100%
                left: 11.73828125%
                top: 50%
                width: 23.4765625%
              tap_action:
                action: none
              type: image

###########################    DATA E ORA   ####################################

            - entity: sensor.time
              hold_action:
                action: none
              style:
                color: 'rgba(255, 255, 255, 0.7)'
                font-size: 5.41vw
                font-weight: 200
                left: 2.7%
                letter-spacing: '-0.05vw'
                max-width: 1px
                top: 10%
              tap_action:
                action: none
              type: state-label
            - entity: sensor.date_string
              hold_action:
                action: none
              style:
                color: 'rgba(255, 255, 255, 0.3)'
                font-size: 1.3vw
                font-weight: 300
                left: 18.1%
                letter-spacing: '-0.05vw'
                text-align: left
                top: 17%
                width: 30%
              tap_action:
                action: none
              type: state-label

#########################  PULSANTI LATERAI  ###################################

            - action: none
              image: /local/floorplan/sidebar/stanze_on.png
              style:
                border-radius: 5vw
                box-shadow: '0px 0.2vw 0.8vw 0px rgba(0,0,0,0.1)'
                left: 11.7%
                top: 26%
                width: 20.5078125%
              tap_action:
                action: navigate
                navigation_path: /floor-plan/0
              type: image

            - entity: group.all_entity
              action: none
              state_image:
                "on": /local/floorplan/sidebar/luci_on.png
                "off": /local/floorplan/sidebar/luci_off.png
              style:
                left: 11.7%
                top: 34%
                width: 20.5078125%
              tap_action:
                action: toggle
              type: image

            - action: none
              image: /local/floorplan/sidebar/dispositivi_off.png
              style:
                left: 11.7%
                top: 42%
                width: 20.5078125%
              tap_action:
                action: navigate
                navigation_path: /floor-plan/1
              type: image

###################################  PERSONE  ##################################

            - action: none
              entity: person.fabrizio
              state_image:
                home: /local/floorplan/people/fabri.png
                not_home: /local/floorplan/people/fabriGone.png
              style:
                background-color: 'rgba(255, 255, 255, 0.0)'
                border-radius: 10vw
                height: 6.5vw
                left: 3.8%
                top: 90%
                width: 6.5vw
              tap_action: none
              type: image

            - action: none
              entity: person.mayra
              state_image:
                home: /local/floorplan/people/mayra.png
                not_home: /local/floorplan/people/mayraGone.png
              style:
                background-color: 'rgba(255, 255, 255, 0.0)'
                border-radius: 10vw
                height: 6.5vw
                left: 10.8%
                top: 90%
                width: 6.5vw
              tap_action: none
              type: image
            - action: none
              image: /local/floorplan/transparent.png
              style:
                background-color: 'rgba(255, 255, 255, 0.0)'
                border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
                border-radius: 10vw
                height: 6.2vw
                left: 17.9%
                top: 90.2%
                width: 6.2vw
              tap_action: none
              type: image

#############################   METEO    #######################################

            - backdrop: false
              entity: weather.roma
              name: ' '
              style: |
                :host {
                  left: 10.4%;
                  top:  76.5%;
                  width: 17%;
                  height: 7% !important;
                  overflow: hidden;
                  height: 8.5vw;
                  background: none  !important;
                  box-shadow: none !important;
                  font-size: 1.2vw !important;
                }
                ha-card {
                  background: none  !important;
                  box-shadow: none !important;
                  flex-flow: row-reverse !important;
                  padding: 0 !important;
                }
                .weather__info--add{
                  display : none !important;
                }
                .weather__info{
                  flex-grow: 1;
                  min-height: 0 !important;
                  height: 3.4vw;
                  margin-left: 0.6vw;
                }
                .weather__icon{
                  margin-right:0.5% !important;
                  margin-top: -3%;
                  width: 2vw !important;
                  height: 2vw !important;
                  flex: 0 0 2vw !important;
                }
              tap_action: null
              type: 'custom:simple-weather-card'

############################  SIDEBAR  #########################################

            - action: none
              image: /local/floorplan/sidebar/sideShadow.png
              style:
                height: 35%
                left: 18.45%
                pointer-events: none
                top: 83%
                width: 10%
              type: image
            - action: none
              image: /local/floorplan/sidebar/sidebarInnerShadow.png
              style:
                left: 22.83%
                opacity: 0.7
                pointer-events: none
                top: 50%
                width: 1.2109375%
              type: image

################################################################################
#                                                                              #
#                               HOMEKIT PANEL                                  #
#                                                                              #
################################################################################

  - cards:
      - elements:
          - enableColumns: true
            rows:
              - columns:
                  - column: 1
                    entities:
                      - entities:
                          - entity: switch.multipresa1_power
                            icon: 'mdi:power'
                          - entity: switch.salone
                            icon: 'mdi:hair-dryer'
                          - entity: switch.presepe
                            icon: 'mdi:toothbrush-electric'
                          - entity: switch.lampada
                          - entity: switch.corridoio
                          - entity: switch.usb
                            icon: 'mdi:usb'
                        title: Power Strip Smart
                    tileOnRow: 2
                row: 1
            statePositionTop: true
            style:
              height: 87%
              left: 62%
              top: 50%
              width: 68%
            type: 'custom:homekit-card'

################################################################################
#                                                                              #
#                       BARRA LATERALE E INFO                                  #
#                                                                              #
################################################################################

          - action: none
            hold_action:
              action: none
            image: /local/floorplan/sidebar/sidebarBG2.png
            style:
              height: 100%
              left: 11.73828125%
              top: 50%
              width: 23.4765625%
            tap_action:
              action: none
            type: image

###########################    DATA E ORA   ####################################

          - entity: sensor.time
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.7)'
              font-size: 5.41vw
              font-weight: 200
              left: 2.7%
              letter-spacing: '-0.05vw'
              max-width: 1px
              top: 10%
            tap_action:
              action: none
            type: state-label
          - entity: sensor.date_string
            hold_action:
              action: none
            style:
              color: 'rgba(255, 255, 255, 0.3)'
              font-size: 1.3vw
              font-weight: 300
              left: 18.1%
              letter-spacing: '-0.05vw'
              text-align: left
              top: 17%
              width: 30%
            tap_action:
              action: none
            type: state-label

#########################  PULSANTI LATERAI  ###################################

          - action: none
            image: /local/floorplan/sidebar/stanze_off.png
            style:
              border-radius: 5vw
              left: 11.7%
              top: 26%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /floor-plan/0
            type: image

          - entity: group.all_entity
            action: none
            state_image:
              "on": /local/floorplan/sidebar/luci_on.png
              "off": /local/floorplan/sidebar/luci_off.png
            style:
              left: 11.7%
              top: 34%
              width: 20.5078125%
            tap_action:
              action: toggle
            type: image

          - action: none
            image: /local/floorplan/sidebar/dispositivi_on.png
            style:
              box-shadow: '0px 0.2vw 0.8vw 0px rgba(0,0,0,0.1)'
              left: 11.7%
              top: 42%
              width: 20.5078125%
            tap_action:
              action: navigate
              navigation_path: /floor-plan/1
            type: image

################################  PERSONE  #####################################

          - action: none
            entity: person.fabrizio
            state_image:
              home: /local/floorplan/people/fabri.png
              not_home: /local/floorplan/people/fabriGone.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border-radius: 10vw
              height: 6.5vw
              left: 3.8%
              top: 90%
              width: 6.5vw
            tap_action: none
            type: image
          - action: none
            entity: person.mayra
            state_image:
              home: /local/floorplan/people/mayra.png
              not_home: /local/floorplan/people/mayraGone.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border-radius: 10vw
              height: 6.5vw
              left: 10.8%
              top: 90%
              width: 6.5vw
            tap_action: none
            type: image
          - action: none
            image: /local/floorplan/transparent.png
            style:
              background-color: 'rgba(255, 255, 255, 0.0)'
              border: '0.1vw dashed rgba(255, 255, 255, 0.3)'
              border-radius: 10vw
              height: 6.2vw
              left: 17.9%
              top: 90.2%
              width: 6.2vw
            tap_action: none
            type: image

#############################   METEO    #######################################

          - backdrop: false
            entity: weather.roma
            name: ' '
            style: |
              :host {
                left: 10.4%;
                top:  76.5%;
                width: 17%;
                height: 7% !important;
                overflow: hidden;
                height: 8.5vw;
                background: none  !important;
                box-shadow: none !important;
                font-size: 1.2vw !important;
              }
              ha-card {
                background: none  !important;
                box-shadow: none !important;
                flex-flow: row-reverse !important;
                padding: 0 !important;
              }
              .weather__info--add{
                display : none !important;
              }
              .weather__info{
                flex-grow: 1;
                min-height: 0 !important;
                height: 3.4vw;
                margin-left: 0.6vw;
              }
              .weather__icon{
                margin-right:0.5% !important;
                margin-top: -3%;
                width: 2vw !important;
                height: 2vw !important;
                flex: 0 0 2vw !important;
              }
            tap_action: null
            type: 'custom:simple-weather-card'

############################  SIDEBAR  #########################################

          - action: none
            image: /local/floorplan/sidebar/sideShadow.png
            style:
              height: 35%
              left: 18.45%
              pointer-events: none
              top: 83%
              width: 10%
            type: image
          - action: none
            image: /local/floorplan/sidebar/sidebarInnerShadow.png
            style:
              left: 22.83%
              opacity: 0.7
              pointer-events: none
              top: 50%
              width: 1.2109375%
            type: image

        image: /local/floorplan/floorplan/blurredFloorplan.png
        style: |
          ha-card {
            background: rgba(42, 46, 48, 1)
          }
        type: picture-elements
    icon: 'mdi:home'
    panel: true
    title: All Devices
